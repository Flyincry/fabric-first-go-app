{{/*
    author: CBIT
*/}}
<html>
<head>
    <title>修改合约</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

<div>
        <h3>Welcome {{.Username}}, indentity: {{.Role}} </h3>
        <a href="/home/logout">Logout</a>
</div>

<div class="common menu">
    <ul>
        <li><a href="/home/welcome"><img src="/static/img/SFI_logo.png" width="120px" height="50px"/></a></li>
        <li><a href="/query">查询信息</a></li>
        <li><a href="/CreateChannelShow">创建通道</a></li>
        <li><a href="/QueryChannel">查询通道</a></li>
{{if eq .Role "Jeweler"}}
        <li><a href="/modifyPage?Action=Apply">新建合约</a></li>
{{end}}
    </ul>
</div>

<div class="common main">
    <div class="content">
        <h2>设置/修改</h2>
        <h4>动作规则：动作--执行者--应填写字段</h4>
        <h5>创建合约--Jeweler--合约编号、珠宝商、融资金额、创建时间</h5>
        <h5>收到合约--Bank--银行、收到合约时间</h5>
        <h5>评估通过--Evaluator--评估方、评估通过时间</h5>
        <h5>回购就绪--Repurchaser--回购方、回购就绪时间</h5>
        <h5>确定放款--Bank--确定放款时间</h5>
        <h5>同意监管--Bank--监管方、同意监管时间</h5>
        <h5>本金返还--Jeweler--本金返还时间</h5>
        <h5>认定违约--Jeweler--无</h5>
        <h5>执行回购--Repurchaser--执行回购时间</h5>
        <h5>拒绝--Jeweler/Bank/Evaluator/Repurchaser--无</h5>
        <form action="/modify" method="post">
          <p>
              <span>当前进行的操作：</span>
              <span>
                <input type="text" readonly="true" style="color:grey;" name="Action" value="{{.Action}}"     >
              </span>
          </p>
          <p>
              <span>合约编号：</span>
              <span>
                <input type="text" {{if ne .Action "Apply"}} readonly="readonly" style="color:grey" {{end}} name="paperNumber" value="{{.Paper.PaperNumber}}"     >
              </span>
          </p>
          <p>
              <span>珠宝商：</span>
              <span>
                <input type="text" {{if ne .Action "Apply"}} readonly="readonly" style="color:grey" {{end}} name="jeweler" value="{{.Paper.Jeweler}}"     >
              </span>
          </p>
          <p>
              <span>融资金额：</span>
              <span>
                <input type="text" {{if ne .Action "Apply"}} readonly="readonly" style="color:grey" {{end}} name="financingAmount" value="{{.Paper.FinancingAmount}}"    >
              </span>
          </p>
          <p>
              <span>创建时间：</span>
              <span>
                <input type="text" {{if ne .Action "Apply"}} readonly="readonly" style="color:grey" {{end}} name="applyDateTime" value="{{.Paper.ApplyDateTime}}"   >
              </span>
          </p>
          <p>
              <span>银行：</span>
              <span>
                <input type="text" {{if ne .Action "Receive"}} readonly="readonly" style="color:grey" {{end}} name="bank" value="{{.Paper.Bank}}"   >
              </span>
          </p>
          <p>
              <span>评估方：</span>
              <span>
                <input type="text" {{if ne .Action "Evaluate"}} readonly="readonly" style="color:grey" {{end}} name="evaluator" value="{{.Paper.Evaluator}}"   >
              </span>
          </p>
          <p>
              <span>回购方：</span>
              <span>
                <input type="text" {{if ne .Action "ReadyRepo"}} readonly="readonly" style="color:grey" {{end}} name="repurchaser" value="{{.Paper.Repurchaser}}"   >
              </span>
          </p>
          <p>
              <span>监管方：</span>
              <span>
                <input type="text" {{if ne .Action "Supervise"}} readonly="readonly" style="color:grey" {{end}} name="supervisor" value="{{.Paper.Supervisor}}"   >
              </span>
          </p>
          <p>
              <span>修订时间：</span>
              <span>
                <input type="text" {{if ne .Action "Revise"}} readonly="readonly" style="color:grey" {{end}}  name="reviseDateTime" value="{{.Paper.ReviseDateTime}}"   >
              </span>
          </p>
          <p>
              <span>确定放款时间：</span>
              <span>
                <input type="text" {{if ne .Action "Accept"}} readonly="readonly" style="color:grey" {{end}}  name="acceptDateTime" value="{{.Paper.AcceptDateTime}}"   >
              </span>
          </p>
          <p>
              <span>回购就绪时间：</span>
              <span>
                <input type="text" {{if ne .Action "ReadyRepo"}} readonly="readonly" style="color:grey" {{end}}  name="readyDateTime" value="{{.Paper.ReadyDateTime}}"   >
              </span>
          </p>
          <p>
              <span>评估通过时间：</span>
              <span>
                <input type="text" {{if ne .Action "Evaluate"}} readonly="readonly" style="color:grey" {{end}}  name="evalDateTime" value="{{.Paper.EvalDateTime}}"   >
              </span>
          </p>
          <p>
              <span>收到合约时间：</span>
              <span>
                <input type="text" {{if ne .Action "Receive"}} readonly="readonly" style="color:grey" {{end}}  name="receiveDateTime" value="{{.Paper.ReceiveDateTime}}"   >
              </span>
          </p>
          <p>
              <span>同意监管时间：</span>
              <span>
                <input type="text" {{if ne .Action "Supervise"}} readonly="readonly" style="color:grey" {{end}} name="endDateTime" value="{{.Paper.EndDate}}"   >
              </span>
          </p>
          <p>
              <span>本金返还时间：</span>
              <span>
                <input type="text" {{if ne .Action "Payback"}} readonly="readonly" style="color:grey" {{end}} name="paidBackDateTime" value="{{.Paper.PaidbackDateTime}}"   >
              </span>
          </p>
          <p>
              <span>执行回购时间：</span>
              <span>
                <input type="text" {{if ne .Action "Repurchase"}} readonly="readonly" style="color:grey" {{end}} name="repurchaseDateTime" value="{{.Paper.RepurchaseDateTime}}"   >
              </span>
          </p>
        <input type="submit" value="提交"/>
        </form>
        <div class="calink">
            <a href="/index.html">返回首页</a><br/>
        </div>
    </div>
</div>

<div class="common footer">
    区块链智能科技中心出品：一个基于 Hyperledger Fabric-SDK-GO 的Web应用示例.
</div>

</body>
</html>
